{% extends 'layout.html' %}

{% block title %} - {{user.name}}{% endblock %}

{% block scripts %}
<script defer src="{{url_for('static', filename='scripts/profile.js')}}"></script>
{% endblock %}

{% block content %}

<style>
    .card-scroll {
        overflow-x: scroll;
        white-space: nowrap;
    }
    .card-scroll::-webkit-scrollbar {
        height: 0.5em; /*spessore scrollbar*/
        background-color: #F5F5F5; /*colore background scrollbar*/
    }
    .card-scroll::-webkit-scrollbar-thumb {
        background-color: #000000; /*colore scrollbar*/
    }
</style>

<!-- Profile header (propic, info, bio) -->
<div class="row">
    <div class="col-12 col-lg-4 d-flex justify-content-center align-items-center">
        <!--Propic-->
        <img src="{{url_for('static', filename='uploads/images/propics/{0}{1}'.format(user.id, user.propic))}}" alt="Immagine profilo" class="img-fluid">
    </div>
    <div class="col">
        <!--Nome e cognome -->
        <div class="row display-4 mt-3 mt-lg-0 mb-3 mx-lg-0 mx-2">{{user.name}} {{user.surname}}</div>
        <!--Bio-->
        <div class="row mx-lg-0 mx-2">Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident, tempora. Eius, at. Id repellat consectetur maiores cupiditate at amet tempore sequi excepturi, nihil, sapiente nostrum nam magnam iure ipsa architecto!
        Ex autem commodi quidem repellendus ad rem unde modi velit rerum, reprehenderit vitae assumenda sint, cumque repudiandae corporis asperiores vero! Accusamus eveniet aliquam fugiat accusantium quidem laudantium libero labore ipsa!
        Placeat repellat molestias et illo quasi tenetur, ex eaque. Dicta modi iste maiores! Voluptatum adipisci totam voluptate debitis commodi, nisi officiis atque cupiditate quos nostrum officia sit sequi nulla ut?</div>
    </div>
</div>

<!-- Profile body (podcast pubblicati e seguiti) -->
<div class="row">

    <!-- Lista podcast pubblicati -->
    <div class="row mt-3">
        <div class="card mb-3 mx-lg-0 mx-2 p-0">
            <div class="row g-0">
                <!-- Card header -->
                <div class="col-12 col-lg-3 d-flex justify-content-center align-items-center display-6">
                    I tuoi podcast
                </div>
                <!-- Card body -->
                <div class="col">
                    <div class="card-body row g-2">
                        <div class="card-scroll">

                            {% for podcast in podcasts %}
                            
                            <!--TODO converti questi tag a in attributi data-url e fanne il js-->
                            <!--TODO metti ricerca tra i tuoi podcast con js-->
                            <a href="{{ url_for('podcast', id=podcast.id) }}" class="d-inline-block mx-2 border rounded-2 px-2">
                                <div class="row">
                                <div class="col-4 d-flex align-items-center justify-content-center">
                                    <img src="{{url_for('static', filename='uploads/images/covers/{0}{1}'.format(podcast.id, podcast.img))}}" class="img-fluid" alt="Card image" style="max-width: 100px;">
                                </div>
                                <div class="col-8">
                                    <h5 class="">{{podcast.title}}</h5>
                                    <p class="text-wrap">{{podcast.desc}}</p>
                                </div>
                                </div>
                            </a>

                            {% endfor %}
                            
                        </div>
                    </div>
                </div>
                <!-- Card footer -->
                <button class="col-1 btn btn-lg btn-primary d-flex justify-content-center align-items-center" style="font-size: xxx-large;" id="newPodBtn">+</button>
            </div>
        </div>
    </div>

    <!-- Lista podcast seguiti -->
    <div class="row mt-3">
        <div class="card mb-3 mx-lg-0 mx-2 p-0">
            <div class="row g-0">
                <!-- Card header -->
                <div class="col-12 col-lg-3 d-flex justify-content-center align-items-center display-6">
                    Seguiti
                </div>
                <!-- Card body -->
                <div class="col">
                    <div class="card-body row g-2">
                        <div class="card-scroll">

                            {% for follow in follows %}
                            
                            <!--TODO metti ricerca tra i tuoi follow con js-->
                            <a href="{{ url_for('podcast', id=follow.id_podcast) }}"class="d-inline-block mx-2 border rounded-2 px-2">
                                <div class="row">
                                <div class="col-4 d-flex align-items-center justify-content-center">
                                    <img src="{{url_for('static', filename='uploads/images/covers/{0}{1}'.format(follow.id, follow.img))}}" class="img-fluid" alt="Card image" style="max-width: 100px;">
                                </div>
                                <div class="col-8">
                                    <h5 class="">{{follow.title}}</h5>
                                    <p class="text-wrap">{{follow.desc}}</p>
                                </div>
                                </div>
                            </a>

                            {% endfor %}
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

{% endblock %}